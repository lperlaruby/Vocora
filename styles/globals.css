@tailwind base;
@tailwind components;
@tailwind utilities;

body {
  font-family: Arial, Helvetica, sans-serif;
}

@layer utilities {
  .text-balance {
    text-wrap: balance;
  }
}

@layer base {
  :root {
    --background: 0 0% 100%;
    --foreground: 0 0% 3.9%;
    --card: 0 0% 100%;
    --card-foreground: 0 0% 3.9%;
    --popover: 0 0% 100%;
    --popover-foreground: 0 0% 3.9%;
    --primary: 0 0% 9%;
    --primary-foreground: 0 0% 98%;
    --secondary: 0 0% 96.1%;
    --secondary-foreground: 0 0% 9%;
    --muted: 0 0% 96.1%;
    --muted-foreground: 0 0% 45.1%;
    --accent: 0 0% 96.1%;
    --accent-foreground: 0 0% 9%;
    --destructive: 0 84.2% 60.2%;
    --destructive-foreground: 0 0% 98%;
    --border: 0 0% 89.8%;
    --input: 0 0% 89.8%;
    --ring: 0 0% 3.9%;
    --chart-1: 12 76% 61%;
    --chart-2: 173 58% 39%;
    --chart-3: 197 37% 24%;
    --chart-4: 43 74% 66%;
    --chart-5: 27 87% 67%;
    --radius: 0.5rem;
    --sidebar-background: 0 0% 98%;
    --sidebar-foreground: 240 5.3% 26.1%;
    --sidebar-primary: 240 5.9% 10%;
    --sidebar-primary-foreground: 0 0% 98%;
    --sidebar-accent: 240 4.8% 95.9%;
    --sidebar-accent-foreground: 240 5.9% 10%;
    --sidebar-border: 220 13% 91%;
    --sidebar-ring: 217.2 91.2% 59.8%;
  }
  .dark {
    --background: 0 0% 17%;
    --foreground: 0 0% 91%;
    --card: 0 0% 20%;
    --card-foreground: 0 0% 91%;
    --popover: 0 0% 20%;
    --popover-foreground: 0 0% 91%;
    --primary: 0 0% 91%;
    --primary-foreground: 0 0% 17%;
    --secondary: 0 0% 25%;
    --secondary-foreground: 0 0% 91%;
    --muted: 0 0% 25%;
    --muted-foreground: 0 0% 70%;
    --accent: 0 0% 25%;
    --accent-foreground: 0 0% 91%;
    --destructive: 0 62.8% 30.6%;
    --destructive-foreground: 0 0% 91%;
    --border: 0 0% 25%;
    --input: 0 0% 25%;
    --ring: 0 0% 91%;
    --chart-1: 220 70% 50%;
    --chart-2: 160 60% 45%;
    --chart-3: 30 80% 55%;
    --chart-4: 280 65% 60%;
    --chart-5: 340 75% 55%;
    --sidebar-background: 0 0% 10%;
    --sidebar-foreground: 0 0% 95.9%;
    --sidebar-primary: 224.3 76.3% 48%;
    --sidebar-primary-foreground: 0 0% 100%;
    --sidebar-accent: 0 0% 15.9%;
    --sidebar-accent-foreground: 0 0% 95.9%;
    --sidebar-border: 0 0% 15.9%;
    --sidebar-ring: 217.2 91.2% 59.8%;
  }
}

@layer base {
  /* Commented out universal border rule that's causing the line */
  /* * {
    @apply border-border;
  } */
  
  /* Remove borders from html and body completely */
  html,
  body {
    border: 0 !important;
    border-width: 0 !important;
    border-style: none !important;
    border-color: transparent !important;
    margin: 0 !important;
    padding: 0 !important;
  }
  
  body {
    @apply bg-background text-foreground;
    /* Make body background match the footer so any gap is invisible */
    background-color: white !important;
  }
  
  .dark body {
    background-color: #0f172a !important; /* slate-900 to match dark footer */
  }
}

/* Header gradient matching text purple */
header.sticky {
  background: linear-gradient(to right, #9333ea, #a78bfa) !important;
}

/* Dark mode overrides */
.dark body {
  background-color: #2b2b2b;
  color: #e6e6e6;
}

.dark .bg-white {
  background-color: #2b2b2b;
}

.dark .text-slate-600 {
  color: #b3b3b3;
}

.dark .border-purple-100 {
  border-color: #404040;
}

.dark .shadow-md {
  --tw-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.2);
}

/* Preserve purple accents in dark mode */
.dark .text-purple-600,
.dark .text-purple-700 {
  color: #a78bfa;
}

.dark .bg-purple-50 {
  background-color: rgba(167, 139, 250, 0.1);
}

.dark .hover\:bg-purple-50:hover {
  background-color: rgba(167, 139, 250, 0.15);
}

.dark .border-purple-200 {
  border-color: rgba(167, 139, 250, 0.2);
}

/* Viewport-Constrained Layout */
.viewport-layout {
  height: 100vh;
  display: flex;
  flex-direction: column;
  overflow: hidden;
}

.viewport-content {
  flex: 1;
  overflow-y: auto;
  overflow-x: hidden;
}

/* Scrollable Container */
.scrollable-container {
  max-height: calc(100vh - 140px); /* Account for navbar + footer */
  overflow-y: auto;
  overflow-x: hidden;
}

/* Dashboard specific constraints */
.dashboard-main {
  height: calc(100vh - 80px); /* Account for navbar height */
  overflow-y: auto;
  overflow-x: hidden;
}

/* Footer styling */
footer {
  flex-shrink: 0; /* Prevent footer from shrinking */
  border: 0 !important;
  border-width: 0 !important;
  border-style: none !important;
  border-color: transparent !important;
  box-shadow: none !important;
  outline: none !important;
  /* Ensure seamless transition from main content */
  margin-top: 0 !important;
}

/* Override any inherited border styles on footer and its children */
footer * {
  border: 0 !important;
  border-width: 0 !important;
  border-style: none !important;
  border-color: transparent !important;
}

/* Responsive layout adjustments */
@media (max-height: 600px) {
  footer {
    padding: 0.5rem 0; /* Reduce padding on very small screens */
  }
  
  .main-content {
    padding-bottom: 0.5rem;
    max-height: calc(100vh - 120px); /* Smaller calculation for short screens */
  }
}

@media (max-height: 500px) {
  .main-content {
    padding-bottom: 0.25rem;
    max-height: calc(100vh - 100px); /* Even smaller for very short screens */
  }
}

@media (max-height: 400px) {
  footer {
    display: none; /* Hide footer on extremely small screens */
  }
  
  .main-content {
    max-height: calc(100vh - 80px); /* Just account for navbar */
  }
}

/* Proper Page Layout with Footer */
.page-layout {
  min-height: 100vh;
  max-height: 100vh;
  display: flex;
  flex-direction: column;
  overflow: hidden;
  background: transparent;
  border: none !important;
}

/* Remove borders from container elements that might create lines */
.container {
  border: none !important;
}

/* Override Tailwind's universal border rule for specific elements */
.page-layout *,
.main-content *,
.container * {
  border-top: 0 !important;
  border-bottom: 0 !important;
}

/* Ensure page-layout doesn't inherit dark background */
.dark .page-layout {
  background: transparent !important;
}

.page-content {
  flex: 1;
  display: flex;
  flex-direction: column;
  overflow: hidden;
}

.main-content {
  flex: 1;
  overflow-y: auto;
  overflow-x: hidden;
  padding-bottom: 2.5rem; /* Add padding to prevent content being hidden behind fixed footer */
  /* Remove any bottom border that might create a line above footer */
  border-bottom: none !important;
  /* Fill remaining space with fixed footer */
  min-height: calc(100vh - 80px); /* Account for navbar height only */
}

/* Sticky Footer Layout (legacy support) */
.sticky-footer-layout {
  min-height: 100vh;
  display: flex;
  flex-direction: column;
}

.sticky-footer-content {
  flex: 1;
}

.sticky-footer {
  margin-top: auto;
}
